<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta name="AppleTitle" content="Events API Reference for Objective C & Swift" />
<title>Events API Reference for Objective C & Swift</title>
<meta name="description" content="Events API Reference for Objective C & Swift" /><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="Copyright Â© 2018" /><style type="text/css">
</style>
<style type="text/css">body { font-family: -apple-system-font, -webkit-system-font, "HelveticaNeue", "Helvetica Neue", "Helvetica", sans-serif; font-size: 13px; padding: 0px 10px 20px 10px; }
h1 { text-align: center; margin-left: -16px; margin-right: -16px; padding-bottom: 20px; background: linear-gradient(to bottom, #ffffff 0%,#f3f2f3 100%); }
img { max-width: 100%; height: auto; }
pre { background-color: rgb(246, 248, 250); border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; box-sizing: border-box; color: rgb(36, 41, 46); display: block; font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, Courier, monospace; font-size: 13.600000381469727px; line-height: 19px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; overflow-x: auto; overflow-y: auto; padding-bottom: 16px; padding-left: 16px; padding-right: 16px; padding-top: 16px; white-space: pre; word-break: normal; word-wrap: normal; }
blockquote { border-left-color: rgb(245, 242, 240); border-left-style: solid; border-left-width: 4px; box-sizing: border-box; color: rgb(106, 115, 125); display: block; margin-bottom: 16px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 16px; padding-right: 16px; padding-top: 0px; word-wrap: break-word; }
ul { padding-left: 1.3em; }
</style>
<title>Detox Instruments Help</title></head><body>
<h1>
<a name="user-content-events-api-reference-for-objective-c--swift" class="anchor" href="#events-api-reference-for-objective-c--swift"><span class="octicon octicon-link"></span></a>Events API Reference for Objective C &amp; Swift</h1>
<p>The Events instrument lets you add lightweight instrumentation to your code for collection and visualization by Detox Instruments. You can specify interesting periods of time ('intervals') and single points in time ('events'). Each event can be marked as completed or errored, or as 12 different general-purpose categories, each displayed with its own color in the timeline pane.</p>
<p>Before using the provided developer APIs, first complete the <a href="XcodeIntegrationGuide.html">Profiler Framework Integration Guide</a>.</p>
<p>Import the framework:</p>
<div class="highlight highlight-source-objc"><pre>#<span class="pl-k">import</span> <span class="pl-s"><span class="pl-pds">&lt;</span>DTXProfiler/DTXEvents.h<span class="pl-pds">&gt;</span></span></pre></div>
<div class="highlight highlight-source-swift"><pre><span class="pl-k">import</span> <span class="pl-en">DTXProfiler</span>.<span class="pl-en">DTXEvents</span></pre></div>
<h2>
<a name="user-content-usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h2>
<h4>
<a name="user-content-intervals" class="anchor" href="#intervals"><span class="octicon octicon-link"></span></a>Intervals</h4>
<div class="highlight highlight-source-objc"><pre>DTXEventIdentifier identifier = DTXProfilerMarkEventIntervalBegin(<span class="pl-s"><span class="pl-pds">@"</span>Category<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">@"</span>Name<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">@"</span>More info at begin<span class="pl-pds">"</span></span>);
<span class="pl-c"><span class="pl-c">//</span>Long interval</span>
<span class="pl-en">DTXProfilerMarkEventIntervalEnd</span>(identifier, DTXEventStatusCategory1, <span class="pl-s"><span class="pl-pds">@"</span>More info at end<span class="pl-pds">"</span></span>);</pre></div>
<div class="highlight highlight-source-swift"><pre><span class="pl-k">let</span> identifier <span class="pl-k">=</span> <span class="pl-c1">DTXProfilerMarkEventIntervalBegin</span>(<span class="pl-s"><span class="pl-pds">"</span>Category<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>More info at begin<span class="pl-pds">"</span></span>)
<span class="pl-c"><span class="pl-c">//</span>Long interval</span>
<span class="pl-c"></span><span class="pl-c1">DTXProfilerMarkEventIntervalEnd</span>(identifier, .<span class="pl-smi">category1</span>, <span class="pl-s"><span class="pl-pds">"</span>More info at end<span class="pl-pds">"</span></span>)</pre></div>
<h4>
<a name="user-content-single-points-in-time" class="anchor" href="#single-points-in-time"><span class="octicon octicon-link"></span></a>Single Points in Time</h4>
<div class="highlight highlight-source-objc"><pre><span class="pl-en">DTXProfilerMarkEvent</span>(<span class="pl-s"><span class="pl-pds">@"</span>Category<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">@"</span>Name<span class="pl-pds">"</span></span>, DTXEventStatusCategory3, <span class="pl-s"><span class="pl-pds">@"</span>More info at single point in time<span class="pl-pds">"</span></span>);</pre></div>
<div class="highlight highlight-source-swift"><pre><span class="pl-c1">DTXProfilerMarkEvent</span>(<span class="pl-s"><span class="pl-pds">"</span>Category<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>, .<span class="pl-smi">category3</span>, <span class="pl-s"><span class="pl-pds">"</span>More info at single point in time<span class="pl-pds">"</span></span>)</pre></div>
<h2>
<a name="user-content-functions" class="anchor" href="#functions"><span class="octicon octicon-link"></span></a>Functions</h2>
<h3>
<a name="user-content-dtxprofilermarkeventintervalbegin" class="anchor" href="#dtxprofilermarkeventintervalbegin"><span class="octicon octicon-link"></span></a><code>DTXProfilerMarkEventIntervalBegin</code>
</h3>
<p>Begins an event interval.</p>
<h4>
<a name="user-content-declaration" class="anchor" href="#declaration"><span class="octicon octicon-link"></span></a>Declaration</h4>
<div class="highlight highlight-source-objc"><pre>DTXEventIdentifier <span class="pl-en">DTXProfilerMarkEventIntervalBegin</span>(<span class="pl-c1">NSString</span>* category, <span class="pl-c1">NSString</span>* name, <span class="pl-c1">NSString</span>* *__nullable* additionalInfo); </pre></div>
<div class="highlight highlight-source-swift"><pre><span class="pl-k">func</span> <span class="pl-en">DTXProfilerMarkEventIntervalBegin</span>(<span class="pl-en">_</span> <span class="pl-smi">category</span>: <span class="pl-c1">String</span>, <span class="pl-en">_</span> <span class="pl-smi">name</span>: <span class="pl-c1">String</span>, <span class="pl-en">_</span> <span class="pl-smi">additionalInfo</span>: <span class="pl-c1">String</span><span class="pl-k">?</span>) <span class="pl-k">-&gt;</span> <span class="pl-c1">String</span></pre></div>
<h4>
<a name="user-content-parameters" class="anchor" href="#parameters"><span class="octicon octicon-link"></span></a>Parameters</h4>
<h5>
<a name="user-content-category" class="anchor" href="#category"><span class="octicon octicon-link"></span></a>category</h5>
<p>The category of this event.</p>
<h5>
<a name="user-content-name" class="anchor" href="#name"><span class="octicon octicon-link"></span></a>name</h5>
<p>The name of this event.</p>
<h5>
<a name="user-content-additionalinfo" class="anchor" href="#additionalinfo"><span class="octicon octicon-link"></span></a>additionalInfo</h5>
<p>Additional information to include with this event.</p>
<h4>
<a name="user-content-return-value" class="anchor" href="#return-value"><span class="octicon octicon-link"></span></a>Return Value</h4>
<p>Returns a valid event identifier to be used with <code>DTXProfilerMarkEventIntervalEnd</code>.</p>
<h3>
<a name="user-content-dtxprofilermarkeventintervalend" class="anchor" href="#dtxprofilermarkeventintervalend"><span class="octicon octicon-link"></span></a><code>DTXProfilerMarkEventIntervalEnd</code>
</h3>
<p>Ends an event interval.</p>
<h4>
<a name="user-content-parameters-1" class="anchor" href="#parameters-1"><span class="octicon octicon-link"></span></a>Parameters</h4>
<h5>
<a name="user-content-identifier" class="anchor" href="#identifier"><span class="octicon octicon-link"></span></a>identifier</h5>
<p>The identifier for the event which was provided by <code>DTXProfilerMarkEventIntervalBegin</code>.</p>
<h5>
<a name="user-content-eventstatus" class="anchor" href="#eventstatus"><span class="octicon octicon-link"></span></a>eventStatus</h5>
<p>The status of this event.</p>
<h5>
<a name="user-content-additionalinfo-1" class="anchor" href="#additionalinfo-1"><span class="octicon octicon-link"></span></a>additionalInfo</h5>
<p>Additional information to include with this event.</p>
<h3>
<a name="user-content-dtxprofilermarkevent" class="anchor" href="#dtxprofilermarkevent"><span class="octicon octicon-link"></span></a><code>DTXProfilerMarkEvent</code>
</h3>
<p>Marks a point of interest in time with no duration.</p>
<h5>
<a name="user-content-category-1" class="anchor" href="#category-1"><span class="octicon octicon-link"></span></a>category</h5>
<p>The category of this event.</p>
<h5>
<a name="user-content-name-1" class="anchor" href="#name-1"><span class="octicon octicon-link"></span></a>name</h5>
<p>The name of this event.</p>
<h5>
<a name="user-content-eventstatus-1" class="anchor" href="#eventstatus-1"><span class="octicon octicon-link"></span></a>eventStatus</h5>
<p>The status of this event.</p>
<h5>
<a name="user-content-additionalinfo-2" class="anchor" href="#additionalinfo-2"><span class="octicon octicon-link"></span></a>additionalInfo</h5>
<p>Additional information to include with this event.</p>
<h2>
<a name="user-content-enums" class="anchor" href="#enums"><span class="octicon octicon-link"></span></a>Enums</h2>
<h3>
<a name="user-content-dtxeventstatus" class="anchor" href="#dtxeventstatus"><span class="octicon octicon-link"></span></a><code>DTXEventStatus</code>
</h3>
<p>The status of the event. Used to display events in different colors on the timeline pane of the Events instrument. Mark errored events with <code>DTXEventStatusError</code>/<code>.error</code>, otherwise use the desired completion or category value.</p>
</body></html>
