<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta name="AppleTitle" content="Profiling Preferences" />
<title>Profiling Preferences</title>
<meta name="description" content="Before profiling, you can set preferences that change how the profiling performs and what should be recorded. These preferences control the accuracy and amount of data collected at the expense of potential performance impact." />

<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="supported-color-schemes" content="light">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="Copyright © 2018" /><style type="text/css">
html {
overflow: auto;
}
body {
position: absolute;
left: 0px;
right: 0px;
top: 0px;
bottom: 0px;
overflow-y: scroll;
overflow-x: hidden;
margin: 0px;
}
</style>
<style type="text/css">body { font-family: -apple-system-font, -webkit-system-font, "HelveticaNeue", "Helvetica Neue", "Helvetica", sans-serif; font-size: 13px; padding: 0px 10px 20px 10px; }
h1 { text-align: center; margin-left: -16px; margin-right: -16px; padding-bottom: 20px; background: linear-gradient(to bottom, #ffffff 0%,#f3f2f3 100%); }
img { max-width: 100%; height: auto; }
pre { background-color: rgb(246, 248, 250); border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; box-sizing: border-box; color: rgb(36, 41, 46); display: block; font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, Courier, monospace; font-size: 13.600000381469727px; line-height: 19px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; overflow-x: auto; overflow-y: auto; padding-bottom: 16px; padding-left: 16px; padding-right: 16px; padding-top: 16px; white-space: pre; word-break: normal; word-wrap: normal; }
blockquote { border-left-color: rgb(245, 242, 240); border-left-style: solid; border-left-width: 4px; box-sizing: border-box; color: rgb(106, 115, 125); display: block; margin-bottom: 16px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 16px; padding-right: 16px; padding-top: 0px; word-wrap: break-word; }
ul { padding-left: 1.3em; }
</style>
<title>Detox Instruments Help</title></head><body>
<h1>
<a name="user-content-profiling-preferences" class="anchor" href="#profiling-preferences"><span class="octicon octicon-link"></span></a>Profiling Preferences</h1>
<p>Before profiling, you can set preferences that change how the profiling performs and what should be recorded. These preferences control the accuracy and amount of data collected at the expense of potential performance impact.</p>
<p>To open the Profiling preferences, select <strong>Detox Instruments</strong> ➔ <strong>Preferences</strong>, and select the <strong>Profiling</strong> tab.</p>
<p><a href="Resources/Preferences_Profiling.png" target="_blank"><img src="Resources/Preferences_Profiling.png" alt="Profiling Preferences" title="Profiling Preferences" style="max-width:100%;" /></a></p>
<h3>
<a name="user-content-sampling-frequency" class="anchor" href="#sampling-frequency"><span class="octicon octicon-link"></span></a>Sampling Frequency</h3>
<p>The <strong>Sampling frequency</strong> preference configures how many samples should be collected every second. The more samples collected, the more accurate the profiling, at some expense of performance.</p>
<p>It is recommended to start with the default value and only increase sampling frequency if necessary.</p>
<h3>
<a name="user-content-performance" class="anchor" href="#performance"><span class="octicon octicon-link"></span></a>Performance</h3>
<p>The <strong>Record performance</strong> preference controls whether performance samples are collected during profiling. Disable this if you want to focus on other instruments, such as network, events or React Native profiling.</p>
<h3>
<a name="user-content-threads" class="anchor" href="#threads"><span class="octicon octicon-link"></span></a>Threads</h3>
<p>The <strong>Record thread information</strong> preference controls whether any thread information is recorded during profiling. Recording thread information can provide additional performance metrics per thread. Normally, recording thread information is not an expensive operation and should be enabled unless absolutely not needed.</p>
<p>The <strong>Collect stack traces</strong> preference enables the recording of the stack trace of the heaviest thread. This provides code symbol information for additional debugging purposes. This is a relatively inexpensive operation, but depending on the sampling frequency, may have a slight performance cost.</p>
<p>The <strong>Symbolicate stack traces</strong> preference enables the runtime symbolication of symbols collected in stack traces. This further assists development by creating human-readable symbols. This is a relatively inexpensive operation, but depending on the sampling frequency, may have a slight performance cost.</p>
<h3>
<a name="user-content-disk-usage" class="anchor" href="#disk-usage"><span class="octicon octicon-link"></span></a>Disk Usage</h3>
<p>The <strong>Collect open file names</strong> preference enables the collection of names of files open in the app at the time of sampling. This is a relatively inexpensive operation, but depending on the sampling frequency, may have a slight performance cost.</p>
<h3>
<a name="user-content-network" class="anchor" href="#network"><span class="octicon octicon-link"></span></a>Network</h3>
<p>The <strong>Record network</strong> preference controls whether any network traffic is recorded, including headers and data. Depending on your app's activity, this can take a small-to-moderate toll on performance. If network recording is not necessary, you can turn this preference off to save performance.</p>
<p>The <strong>Record localhost network</strong> preference extends the network recording to localhost connections as well. Depending on your app's activity, this may introduce a lot of unwanted noise. Enable if you need to profile or debug localhost connections.</p>
<p>The <strong>Disable network cache</strong> preference controls whether network cache should be disabled for requests the app makes while recording.</p>
<h3>
<a name="user-content-events" class="anchor" href="#events"><span class="octicon octicon-link"></span></a>Events</h3>
<p>The <strong>Record events</strong> preference controls whether any events are recorded during profiling.</p>
<p>The <strong>Ignored Categories</strong> button presents the <strong>Ignored Events Categories</strong> sheet.</p>
<p><a href="Resources/Preferences_Profiling_IgnoredEventsCategories.png" target="_blank"><img src="Resources/Preferences_Profiling_IgnoredEventsCategories.png" alt="Ignored Events Categories" title="Ignored Events Categories" style="max-width:100%;" /></a></p>
<p>In this screen, you can add Events categories that will be ignored when recording. Use this to save performance and lower clutter. For an in-depth look at the Events instrument, see <a href="Instrument_Events.html">Events Instrument</a>.</p>
<h3>
<a name="user-content-log" class="anchor" href="#log"><span class="octicon octicon-link"></span></a>Log</h3>
<p>The <strong>Collect log output</strong> preference enables the recording of your app's log output. This can be very useful for cross-referencing your debug log output with profiling samples of your app. This is an inexpensive operation, but depending on the log output amount, may have a slight performance cost.</p>
<h3>
<a name="user-content-react-native" class="anchor" href="#react-native"><span class="octicon octicon-link"></span></a>React Native</h3>
<p>The <strong>Profile React Native (if available)</strong> preference controls the React Native profiling systems in Detox Instruments and its Profiler framework. These systems provide information such as JavaScript thread performance, bridge calls and bridge data, which can be very helpful when debugging apps with React Native usage.</p>
<p>The <strong>Record bridge data</strong> preference controls whether React Native bridge data is recorded during profiling. Depending on your app's activity, this can take a small-to-moderate toll on performance. If bridge data recording is not necessary, you can turn this preference off to save performance.</p>
<p>The <strong>Record timers as events</strong> preference controls whether React Native timers, created in JavaScript using <code>setTimeout()</code>, should be recorded as events and displayed in the Events instrument. This preference requires that the <strong><code>detox-instruments-react-native-utils</code></strong> package be installed in your React Native app. For more information, see <a href="DeveloperAPIReferenceEventsJS.html">Events API Reference for React Native / JavaScript</a>.</p>
<p>The <strong>Record internal React Native events</strong> preference controls whether internal React Native events are enabled and recorded. Use these events when you want to have insight on the internal working and performance of React Native.</p>
<h3>
<a name="user-content-time-limit" class="anchor" href="#time-limit"><span class="octicon octicon-link"></span></a>Time Limit</h3>
<p>The <strong>Time limit</strong> preference sets a hard time limit on recording duration. You can set the value in seconds, minutes or hours. The default is 2 minutes.</p>
<h3>
<a name="user-content-restoring-defaults" class="anchor" href="#restoring-defaults"><span class="octicon octicon-link"></span></a>Restoring Defaults</h3>
<p>The <strong>Restore Defaults</strong> button resets all profiling preferences to their default value. These defaults may change from time to time, depending on development and feedback considerations.</p>
</body></html>
